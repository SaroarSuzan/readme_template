(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1148:function(t,e,o){"use strict";o(849)},1149:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,".category-section[data-v-1a9283de]{margin-top:20px}.category-section__title[data-v-1a9283de]{margin:20px 0 24px}",""]),r.locals={},t.exports=r},1150:function(t,e,o){"use strict";o(850)},1151:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,'@keyframes spin-7dfd999b{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.platform-page[data-v-7dfd999b]{position:relative}.platform-page__skeletons[data-v-7dfd999b]{background:#fff;bottom:0;min-height:100vh;position:absolute;top:0;width:100%;z-index:2}.platform-page__header[data-v-7dfd999b]{margin-top:12px}.platform-page .search-tags[data-v-7dfd999b]{margin-bottom:8px}.platform-page__header+.platform-page__content[data-v-7dfd999b]{margin-top:16px}.container[data-v-7dfd999b]{padding:0 32px}@media(max-width:768px){.container[data-v-7dfd999b]{padding:12px 10px 0 20px}}.is-loading[data-v-7dfd999b]{height:100px;position:relative}.is-loading[data-v-7dfd999b]:after{animation:spin-7dfd999b 1s linear infinite;border:2px solid hsla(0,0%,67%,.2);border-radius:50%;border-top-color:hsla(0,0%,67%,.8);content:"";height:3rem;left:50%;margin-left:-1.5rem;margin-top:-1.5rem;position:absolute;top:50%;width:3rem}.icons-descr-wrap[data-v-7dfd999b]{grid-row-gap:24px;border-bottom:1px solid var(--c-transparent-black_200);border-top:1px solid var(--c-transparent-black_200);display:grid;grid-template:repeat(2,max-content)/none;margin:32px 0;padding:24px 0;row-gap:24px}.item-category[data-v-7dfd999b]{margin-top:20px}@media(min-width:768px){.page-descr[data-v-7dfd999b]{border-left:1px solid var(--c-transparent-black_200);padding-left:32px}.icons-descr-wrap[data-v-7dfd999b]{grid-template:none/repeat(2,1fr);padding:32px 0}.missing-icon[data-v-7dfd999b]{margin-right:32px}}',""]),r.locals={},t.exports=r},1488:function(t,e,o){"use strict";o.r(e);var r=o(8),n=o(10),c=o(94),l=o(669),d=o(681),m=o(776),h={name:"PackPlatformPage",components:{ShutterstockAds:d.default,searchNothingFound:m.a,appPageSectionTitle:l.a},props:{category:{type:Object,default:()=>{}},pack:{type:Object,default:()=>{}},platform:{type:Object,default:()=>{}}},computed:{shutterQuery(){const t=this.category.name,style=this.platform.title;let e="";return e+="Popular"!==t?t:style.replace(/ .*/,""),{query:e,platform:this.platform.apiCode}}},methods:{uppercaseFirstLetter:n.uppercaseFirstLetter}},f=(o(1148),o(5)),y=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",[t.category?t._l(t.category.subcategory,(function(o,r){return e("div",{key:r,class:{"category-section":0!==r}},[e("appPageSectionTitle",{staticClass:"category-section__title"},[t._v("\n        "+t._s(t.uppercaseFirstLetter(o.name.toLowerCase()))+"\n      ")]),t._v(" "),e("icon-grid",{key:"grid"+r,attrs:{id:o.name,icons:o.icons,action:"select","ads-params-two":1===r?{rowAds:3}:{},"carbon-ad":0===r}}),t._v(" "),1===r?e("client-only",{key:o.name+r},[t.pack&&t.platform?e("div",{staticClass:"ads"},[e("ShutterstockAds",{attrs:{"ad-params":t.shutterQuery}})],1):t._e()]):t._e()],1)})):e("search-nothing-found")],2)}),[],!1,null,"1a9283de",null).exports,v=o(1014),_=o(772),x=o(777),C=o(658),w=o(661),A=o(657),L={name:"SearchPage",components:{packPlatformPage:y,searchNothingFound:m.a,requestIcon:v.a,CrossSearchBar:_.a,SimilarTags:x.a,appPopularRequest:()=>o.e(25).then(o.bind(null,713))},layout:"app",scrollToTop:!0,async asyncData(t){let{app:e,params:o,store:r,redirect:n,res:l,route:d}=t;if(!o.platform)return void n(301,encodeURI(`/icons/set/${o.term}`));const m=Object(c.a)(o.platform),h=Object(A.a)(r,e).beautifyMadeIn(Object(C.a)(o.term)),f={term:o.term,beautyTerm:h,parsedParams:m};r.dispatch("setPlatform",m.$rootPath),r.dispatch("setIsPageLoading",!0),r.dispatch("setFilterAuthors",Object(C.c)(o.platform)),r.dispatch("setFilterIsAnimated",Object(C.b)(o.platform)),r.dispatch("setFilterColor",Object(C.d)(o.platform).code||Object(C.d)(o.platform).value),r.dispatch("setSearchColor",Object(C.d)(o.platform)),r.dispatch("icon/changeColor",Object(C.d)(o.platform).value||"000000"),r.commit("IS_CONTENT_LOADED",!1),r.commit("SET_PLACEHOLDER_TYPE","icon");const{fetchDataCategory:y,fetchDataIcons:v}=Object(w.a)(r,e,d),_=await y(f);let x;if(_&&_.category&&(x=!!_.category.subcategory&&!!_.category.subcategory.length),_&&x)return _;const L=await v(f);return l&&!L.isFound&&(l.statusCode=404),L},data:()=>({term:"",icons:[],countAll:0,isFound:!1,page:1,isLoaded:!1,isLoadedAll:!1,parsedParams:null,searchTemplate:null,category:null,pageSubtitle:null,similarTags:null,bySellAds:null}),head(){return this.seo},computed:{...Object(r.e)({isContentLoaded:t=>t.ui.isContentLoaded,isPageLoaded:t=>t.ui.isPageLoaded,platform:t=>t.platform,user:t=>t.auth.user,pack:t=>t.pack,packs:t=>t.appInfo.packs,isAnimated:t=>t.filters.isAnimated,platforms:t=>t.appInfo.platforms}),isColor(){return this.platforms[this.platform.apiCode].isColor}},watch:{isPageLoaded(t){t&&this.sendGA()},user(t){t&&this.$analytics.trackSearchEvent({userId:t.id,platform:this.platform.apiCode,isPaidUser:!!t.activeLicense,type:"icon",term:this.term,ip:t.ip})}},mounted(){this.setContentLoaded(500),this.setFilters(),this.sendGA(),this.setIsPageLoading(!1)},async created(){this.bySellAds=await Object(n.clientOnly)(o.e(18).then(o.bind(null,1462)))},methods:{...Object(r.b)(["setFilterColorGradient","setIsPageLoading"]),fetchNext(t){const e=this.searchTemplate;"icons"===e&&this.fetchNextIcons(t),"category"===e&&this.fetchNextCategory(t)},async fetchNextIcons(t){var e;const{isColorFilters:o}=Object(w.a)(this.$store),r=this.$i18n.localeProperties.iso,n=this.$store.state.platform.apiCode,c=this.$route.params.term,l=null!==(e=this.isAnimated)&&void 0!==e?e:null,d=`${this.beautyTerm}`.toLowerCase(),m=this.page+1,h=o();if(this.icons.length>=this.countAll)return t.complete(),void(this.isLoadedAll=!0);const f={term:c,beautyTerm:d,page:m,isAnimated:l,isColor:h,platform:n};try{const e=await Object(w.a)(this.$store).getIcons(f,r);if(!e.success)throw e;e.icons.length?(this.icons=this.icons.concat(e.icons),this.page=this.page+1,t.loaded()):(t.complete(),this.isLoadedAll=!0)}catch(e){t.complete(),this.isLoadedAll=!0,console.error("fetchNextIcons",e)}},async fetchNextCategory(t){var e;if(this.isLoadedAll)return void t.complete();const o={pack:this.pack.code,platform:this.platform.apiCode,page:this.page+1,isAnimated:null!==(e=this.isAnimated)&&void 0!==e?e:null},{getCategory:r}=Object(w.a)(this.$store,this);try{const e=await r(o);e.success?(this.mergeCategories(this.category,e.category),this.page++,t.loaded()):(t.complete(),this.isLoadedAll=!0)}catch(e){t.complete(),this.isLoadedAll=!0,console.error("fetchNextCategory",e)}},mergeCategories(t,e){e.subcategory.forEach((e=>{const sub=t.subcategory.find((t=>t.code===e.code));sub?sub.icons.push(...e.icons):t.subcategory.push(e)}))},setFilters(){this.parsedParams&&this.platform&&"nolan"!==this.platform.apiCode&&this.setFilterColorGradient(void 0)},sendGA(){window.ga&&window.ga("send","pageview"),this.$analytics.trackIconSearch({term:this.term}),this.isFound||this.$analytics.track({event:"Nothing found",category:this.$route.params.platform})},setContentLoaded(t){setTimeout((()=>{this.$store.commit("IS_CONTENT_LOADED",!0)}),t)}}},k=(o(1150),Object(f.a)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"platform-page"},[t.isContentLoaded?t._e():e("div",{staticClass:"platform-page__skeletons container"},[e("icon-placeholder",{attrs:{tags:"",type:t.$store.state.ui.placeholderType,"aggregated-tags":!0,"short-bottom-margin":!0,"icons-heading":!1}})],1),t._v(" "),[e("div",{staticClass:"platform-page__header container"},[e("SimilarTags",{staticClass:"search-tags",attrs:{tags:t.similarTags}}),t._v(" "),"emoji"!==t.term?e("client-only",[e(t.bySellAds,{tag:"component",attrs:{"model-value":!0,"single-icon-page":!0}})],1):t._e()],1),t._v(" "),"emoji"===t.term?e("appPopularRequest",{attrs:{request:t.term}}):t._e(),t._v(" "),e("div",{staticClass:"platform-page__content container"},[e("client-only",["emoji"===t.term?e("BySellAds"):t._e()],1),t._v(" "),t.isFound?t._e():e("search-nothing-found"),t._v(" "),t.category&&"category"===t.searchTemplate?e("packPlatformPage",{staticClass:"is-body",attrs:{category:t.category,pack:t.pack,platform:t.platform}}):t._e(),t._v(" "),"icons"===t.searchTemplate?e("div",[e("icon-grid",{attrs:{icons:t.icons,"ads-params":{rowAds:5,term:t.term,platform:t.platform.apiCode},"carbon-ad":!0,"found-language":t.foundLanguage,action:"select"}})],1):t._e(),t._v(" "),e("client-only",[e("infinite-loading",{directives:[{name:"show",rawName:"v-show",value:!t.isLoadedAll&&t.isFound,expression:"!isLoadedAll && isFound"}],attrs:{distance:1300},on:{infinite:t.fetchNext}},[e("div",{staticClass:"is-loading",attrs:{slot:"spinner"},slot:"spinner"})])],1),t._v(" "),t.isFound?e("div",{staticClass:"icons-descr-wrap"},[e("request-icon",{staticClass:"missing-icon"}),t._v(" "),e("app-bottom-info",{staticClass:"page-descr",attrs:{subtitle:t.pageSubtitle}})],1):t._e(),t._v(" "),t.isLoadedAll&&t.isFound?e("client-only",[e("CrossSearchBar",{attrs:{"search-query":t.beautyTerm.toLowerCase()}})],1):t._e()],1)]],2)}),[],!1,null,"7dfd999b",null));e.default=k.exports},654:function(t,e,o){var content=o(665);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("3a2a1191",content,!0,{sourceMap:!1})},664:function(t,e,o){"use strict";o(654)},665:function(t,e,o){var r=o(6)((function(i){return i[1]}));r.push([t.i,'.app-page-section-title{align-items:center;display:flex;font-weight:var(--font-bold);letter-spacing:-.005em;margin:20px 0 24px;text-align:left;text-transform:none;white-space:nowrap}.app-page-section-title:after{background:var(--c-transparent-black_200);bottom:0;content:"";height:1px;margin-left:24px;width:100%}',""]),r.locals={},t.exports=r},669:function(t,e,o){"use strict";o(664);var r=o(5),component=Object(r.a)({},(function(){return(0,this._self._c)("h6",{staticClass:"app-page-section-title"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},849:function(t,e,o){var content=o(1149);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("ca5311ca",content,!0,{sourceMap:!1})},850:function(t,e,o){var content=o(1151);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(7).default)("e9e5c018",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=_platform.38cca10ea46963b11f30.js.map